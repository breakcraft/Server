[label,consume_effect_strange_fruit]
sound_synth(eat, 0, 0);
anim(human_eat, 0);
def_obj $consumable = last_item;
// change item to its next stage. default is null
inv_delslot(inv, last_slot);
healenergy(3000);
// https://oldschool.runescape.wiki/w/Strange_fruit 
// https://archive.is/6SmRo provides 30 ticks of poison immunity
%poison = min(%poison,-1);
~set_poison_timer;
~consume_effect_messages($consumable, stat(hitpoints), false);